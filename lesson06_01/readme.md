### Задача 1
Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде,
- склады и автомобильные дороги для логистической компании,
- генеалогические деревья,
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
- отношения клиент-покупка для интернет-магазина.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

### Ответ:
- электронные чеки в json-виде

Для хранения таких данных подойдет No-SQL СУБД, вроде MongoDB, так как чек имеет не имеет четкой структуры товаров, которые будут в нем присутствовать.

- склады и автомобильные дороги для логистической компании

Подойдет реляционная СУБД PostgresSQL или MySQL, так как будет храниться информация с четкими связями. Данные СУБД хорошо работают с большими объемами данных, обеспечивая надежность хранения. При этом в данной задаче вряд ли потребуется высокая скорость рьработки данных.

- генеалогические деревья

Для хранения генеалогических деревьев можно использовать графовую базу данных, такую как Neo4j. Графовые базы данных хорошо подходят для хранения и обработки связей между сущностями. В графовых базах данных графы используются для представления данных и связей между ними, что позволяет эффективно выполнять запросы, связанные с генеалогическими отношениями.

- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации

Для хранения кэша идентификаторов клиентов с ограниченным временем жизни можно использовать ин-мемори базу данных, такую как Redis. Ин-мемори базы данных хранят данные в оперативной памяти, что обеспечивает высокую скорость доступа к данным. Redis поддерживает ограничение времени жизни данных, что позволяет автоматически удалять устаревшие идентификаторы клиентов.

- отношения клиент-покупка для интернет-магазина.

Для хранения отношений клиент-покупка можно использовать реляционную базу данных, такую как PostgreSQL или MySQL. Реляционные базы данных хорошо подходят для хранения структурированных данных с ясными связями между сущностями. В данном случае, таблицы клиентов и покупок могут быть связаны через внешний ключ, что обеспечит эффективное выполнение запросов, связанных с отношениями клиент-покупка.

###  Задача 2
Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

данные записываются на все узлы с задержкой до часа (асинхронная запись);
при сетевых сбоях система может разделиться на 2 раздельных кластера;
система может не прислать корректный ответ или сбросить соединение.
Согласно PACELC-теореме как бы вы классифицировали эти реализации?

### Ответ:

1) Данные записываются на все узлы с задержкой до часа (асинхронная запись): данная реализация соответствует классификации AP (доступность и устойчивость к разделению) в рамках CAP-теоремы. При такой реализации система гарантирует доступность данных и устойчивость к разделению, однако может возникнуть возможность несогласованности данных на разных узлах.

2) При сетевых сбоях система может разделиться на 2 раздельных кластера: данная реализация соответствует классификации CP (согласованность и устойчивость к разделению) в рамках CAP-теоремы. При такой реализации система гарантирует согласованность данных, однако может возникнуть потеря доступности данных в случае разделения на разные кластеры.

3) Система может не прислать корректный ответ или сбросить соединение: данная реализация соответствует классификации EL (устойчивость к разделению и линеаризуемость) в рамках PACELC-теоремы. При такой реализации система гарантирует устойчивость к разделению и линеаризуемость (каждая операция в системе является атомарной), однако может возникнуть потеря доступности данных и некорректные ответы.

### Задача 3
Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

### Ответ:
Да, могут. Так как хоть это и разные подходы, но их можно комбинировать в разных компонентах системы. Например, какой-то компонент будет использовать BASE-подход, но в целом система будет подчиняться правилам ACID.

### Задача 4
Вам дали задачу написать системное решение, основой которого бы послужили:

фиксация некоторых значений с временем жизни,
реакция на истечение таймаута.
Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?

### Ответ:

Key-value-хранилище с механизмом Pub/Sub (публикации-подписки) - это система, которая позволяет хранить пары ключ-значение и предоставляет возможность подписываться на изменения этих ключей и получать уведомления о них.

Минусы выбора такой системы могут быть следующими:

1. Ограниченный функционал: Key-value-хранилища с механизмом Pub/Sub обычно предоставляют только базовые операции чтения, записи и удаления данных. Если требуется более сложная логика или операции, такие как транзакции или агрегация данных, то может потребоваться дополнительная разработка или использование других инструментов.

2. Сложность масштабирования: Некоторые key-value-хранилища с механизмом Pub/Sub могут иметь ограничения на количество подписчиков или сложности масштабирования при большом количестве данных или запросов. Это может быть проблемой, если система ожидает большую нагрузку или необходимо обрабатывать большое количество подписчиков.

3. Отсутствие гарантий доставки: В некоторых системах Pub/Sub может отсутствовать гарантия доставки сообщений или возможность обработки истекших таймаутов. Это может привести к потере данных или неправильной обработке событий, если система не способна обработать истекший таймаут или обеспечить доставку сообщений.

4. Сложность настройки и управления: Некоторые системы Pub/Sub могут требовать сложной настройки и управления, особенно при работе с кластерами или распределенными системами. Это может потребовать дополнительных усилий для настройки и поддержки системы.

5. Зависимость от поставщика: Если выбранное key-value-хранилище с механизмом Pub/Sub является проприетарным или зависит от конкретного поставщика, это может создать проблемы с переносимостью и возникновением проблем, если поставщик прекратит поддержку или изменит условия использования.

В целом, выбор key-value-хранилища с механизмом Pub/Sub зависит от конкретных требований и ограничений проекта. Необходимо тщательно оценить функциональность, масштабируемость, надежность и сложность использования системы перед ее выбором.
